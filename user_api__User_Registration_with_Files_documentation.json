{
  "api_documentation": {
    "base_url": "http://127.0.0.1:8000",
    "description": "Bidding Platform User Registration with Files API Documentation",
    "version": "1.0.1",
    "endpoints": [
      {
        "name": "User Registration with Files",
        "method": "POST",
        "endpoint": "/api/User/register/",
        "description": "Registers a new user account with optional VAT certificate file uploads. The account will be created with pending status (Is_Accepted = null) and requires admin approval.",
        "authentication": "None required",
        "request": {
          "content_type": "multipart/form-data",
          "body": {
            "username": {
              "type": "string",
              "required": true,
              "description": "Unique username for the account"
            },
            "password": {
              "type": "string",
              "required": true,
              "description": "Password for the account"
            },
            "name": {
              "type": "string",
              "required": true,
              "description": "Company or user full name"
            },
            "address": {
              "type": "string",
              "required": false,
              "description": "Company address"
            },
            "phone_number": {
              "type": "string",
              "required": false,
              "description": "Contact phone number"
            },
            "email": {
              "type": "string",
              "required": true,
              "description": "Email address for the account"
            },
            "website": {
              "type": "string",
              "required": false,
              "description": "Company website URL"
            },
            "CR_number": {
              "type": "string",
              "required": false,
              "description": "Commercial Registration number"
            },
            "files": {
              "type": "file[]",
              "required": false,
              "description": "VAT certificate files (PDF, Excel, or image formats)",
              "max_size": "10MB per file",
              "allowed_formats": ["PDF", "Excel", "Images"],
              "multiple": true
            }
          },
          "example": {
            "username": "company1",
            "password": "SecurePassword123",
            "name": "Company One Ltd",
            "address": "123 Business Street, City",
            "phone_number": "+1234567890",
            "email": "contact@company1.com",
            "website": "www.company1.com",
            "CR_number": "CR123456",
            "files": "[VAT certificate files]"
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully",
            "condition": "Valid data provided and no conflicts",
            "body": {
              "message": "User registered successfully. Account is pending admin approval.",
              "data": {
                "User_Id": 15,
                "username": "company1",
                "name": "Company One Ltd",
                "email": "contact@company1.com",
                "Is_Accepted": null,
                "uploaded_files": [
                  {
                    "file_id": 1,
                    "file_name": "vat_certificate.pdf",
                    "file_type": "application/pdf",
                    "file_size": 524288,
                    "uploaded_at": "2025-06-01T10:30:00Z"
                  }
                ]
              }
            }
          },
          "400": {
            "description": "Bad request - validation errors",
            "condition": "Missing required fields, invalid data format, or file upload errors",
            "body": {
              "message": "Validation error occurred.",
              "errors": {
                "username": ["This field is required."],
                "email": ["Enter a valid email address."],
                "files": ["File size exceeds 10MB limit."]
              }
            }
          },
          "409": {
            "description": "Conflict - username or email already exists",
            "condition": "Username or email is already registered",
            "body": {
              "message": "Username or email already exists.",
              "data": []
            }
          },
          "413": {
            "description": "Payload too large",
            "condition": "File size exceeds maximum allowed size",
            "body": {
              "message": "File size exceeds the maximum limit of 10MB.",
              "data": []
            }
          },
          "415": {
            "description": "Unsupported media type",
            "condition": "Uploaded file format is not supported",
            "body": {
              "message": "Unsupported file format. Only PDF, Excel, and image files are allowed.",
              "data": []
            }
          },
          "500": {
            "description": "Internal server error",
            "condition": "Server error during registration or file processing",
            "body": {
              "message": "Internal server error occurred during registration.",
              "data": []
            }
          }
        }
      }
    ],
    "common_error_responses": {
      "400": {
        "description": "Bad Request - Invalid data or missing required fields",
        "body": {
          "message": "Validation error occurred.",
          "errors": "Field-specific error details"
        }
      },
      "409": {
        "description": "Conflict - Resource already exists",
        "body": {
          "message": "Username or email already exists.",
          "data": []
        }
      },
      "413": {
        "description": "Payload Too Large - File size exceeds limit",
        "body": {
          "message": "File size exceeds the maximum limit.",
          "data": []
        }
      },
      "415": {
        "description": "Unsupported Media Type - Invalid file format",
        "body": {
          "message": "Unsupported file format.",
          "data": []
        }
      },
      "500": {
        "description": "Internal Server Error",
        "body": {
          "message": "Internal server error occurred",
          "data": []
        }
      }
    },
    "authentication": {
      "type": "None",
      "description": "No authentication required for user registration",
      "note": "After successful registration, users must wait for admin approval before they can log in"
    },
    "notes": {
      "file_uploads": "File uploads use multipart/form-data and support PDF, Excel, and image formats up to 10MB per file",
      "account_approval": "New user registrations are created with Is_Accepted = null and require admin approval before the user can log in",
      "file_storage": "Uploaded files are stored as BLOB data in the database with metadata",
      "timestamps": "All timestamps are in ISO 8601 format (YYYY-MM-DDTHH:MM:SSZ)",
      "validation": "All fields are validated server-side, including email format, username uniqueness, and file type/size validation",
      "multiple_files": "Multiple VAT certificate files can be uploaded in a single registration request",
      "required_fields": "Only username, password, name, and email are required. All other fields including files are optional"
    }
  }
}
